ここまでの調査で、現在の `main` に push されているコードでは以下の問題が確認されました。

### 問題点と原因

* **ボードプレビューが中央に浮遊する**：`App.tsx` には `fst-inline-fixes` という `<style>` タグを動的に挿入する `useEffect` が残っており、その中で `#board-mini-root` に `position: static !important` や `display: none !important` を強制していました。このスタイルが `BoardMini` コンポーネントに設定した `position: relative` より優先され、内部のカード (`absolute` や `transform`) が body 全体を基準に描画され続けていました。
* **ボード用列がアンカーになっていない**：`.board-col` に `position: relative` が無いので、`#board-mini-root` の子要素の絶対配置が右カラムに固定されません。
* **RANGE3 用の選択肢と統計パネルが重なる**：動的 CSS により `.stats` や `#board-mini-root` の表示制御が分散しており、レイアウトの崩れが解消されていません。

### 修正方針

1. **動的 CSS 注入をやめる**
   `App.tsx` で `<style>` を挿入している `useEffect` を完全に削除し、スタイル定義は `src/index.css` に統一します。このブロックが残っていると `!important` がかかったスタイルがアプリ全体に影響し続け、後から追加したルールを上書きしてしまいます。

2. **`BoardMini` のルートを相対配置にする**
   `BoardMini` コンポーネントのルート `<div>` の style に `position: 'relative'` を追加します（変換や縮尺指定はそのまま）。これにより内部のカードやラベルがボード内で正しく配置されます。

3. **`board-col` をアンカー化**
   `src/index.css` にて `.board-col` に `position: relative;` を追加し、幅指定と一緒に定義します。右カラムを相対配置にすることで、そこに含まれるボードプレビューの絶対配置の基準になります。

4. **`#board-mini-root` のスタイルを更新**
   `index.css` に次のルールを追加して既存の定義を上書きします。

   ```css
   #board-mini-root {
     position: relative !important;
     inset: auto !important;
     transform-origin: top left !important;
   }
   .board-col #board-mini-root {
     display: block !important;
   }
   ```

5. **不要な `display: none` を削除**
   `#board-mini-root { display: none !important; … }` の強制非表示は削除します。ボードの表示/非表示は `.board-col #board-mini-root` で制御できます。

### CodexCLI への修正指示（パッチ概要）

以下の内容を CodexCLI へそのまま貼り付ければ、上記修正を実装できます。

```
codex
# 1) App.tsx – 動的スタイル注入を削除
Open src/App.tsx and delete the entire useEffect block that creates a <style> element with id 'fst-inline-fixes'. Keep only the explanatory comment.

# 2) App.tsx – BoardMini を相対配置に
In the BoardMini component, modify the returned <div> so that it includes `position: 'relative'` in its inline style, e.g.:
<div
  ref={ref}
  className="board-mini rounded-xl"
  style={{
    position: 'relative',
    border:'1px solid rgba(255,255,255,0.08)',
    background:'rgba(0,0,0,0.2)',
    padding:12,
    transform:`scale(${scale})`,
    transformOrigin:'top left'
  }}
>

# 3) index.css – 右カラムとボードルートのスタイル修正
Append (or update) the following rules in src/index.css:

/* Ensure right column acts as the containing block for absolute children */
.board-col {
  position: relative;
  width: clamp(280px, 22vw, 320px);
  max-width: 320px;
  margin-left: auto;
}

/* Board root must be relative for proper positioning */
#board-mini-root {
  position: relative !important;
  inset: auto !important;
  transform-origin: top left !important;
}

/* Only display the board when inside the right column */
.board-col #board-mini-root {
  display: block !important;
}

# 4) Remove any rules that set `#board-mini-root` to `display: none` by default.
Delete or comment out the line:
  #board-mini-root{ display:none !important; position:static !important; … }

# 5) Rebuild and test
After applying these changes, run the dev server and verify that:
- The board preview appears only in the right column on large screens and is hidden on small screens.
- The board no longer floats in the middle of the question card.
- The RANGE3 classification buttons and stats panel no longer overlap.
```

上記のパッチを適用後、ブラウザのキャッシュをクリアして再度ビルドを行えば、ボード表示とレンジ3選択 UI のズレは解消されるはずです。
